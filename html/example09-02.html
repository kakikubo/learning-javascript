<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<lang:html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>例9-2 ウィンドウ間通信</title>
  </head>
  <body>
    <script type="text/javascript" defer="defer">
      // <![CDATA[
      window.onload = setupObjects;

      function setupObjects() {
        document.forms[0].elements[0].focus();
        var evtObject = document.getElementById('panicbutton');
        // オブジェクトモデルのテスト
        if (evtObject.addEventListener) {
          evtObject.addEventListener('click', openHelp, false);
        } else if (evtObject.attachEvent) {
          evtObject.attachEvent('onclick', openHelp);
        } else {
          evtObject.onclick = openHelp;
        }
      }

      function openHelp(x) {
        var optionString =
          'width=200,height=100,menubar=no,toolbar=no,scrollbars=no,location=no,resizeable=no';
        var helpWindoww = window.open('example09-03.html', 'test', optionString);
        helpWindoww.focus();
        helpWindoww.moveTo(x.screenX, x.screenY);
        return false;
      }
      // ]]
    </script>
    <form name="currentForm">
      名前: <input type='text' size='50'>
    </form>
    <div id='panicbutton' style='width:100px;height:20px;background-color: #f00;padding: 5px;margin:10px auto;'>ヘルプボタン</div>
  </body>
</lang:html>
