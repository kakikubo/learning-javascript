<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<lang:html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>例11-4 オブジェクトの検出を利用した不透明度の設定</title>
    <script type="text/javascript">
      // <![CDATA[
      var opacity = 1.0;
      document.onclick = adjustOpacity;

      function adjustOpacity() {
        opacity = opacity - 0.1;
        if (opacity < 0.0) return;

        var img = document.getElementById('img1');
        if (!img) {
          alert('不透明度はサポートされていません');
        } else if (img.style.filter) {
          // IEの場合
          var ieopacity = opacity * 100;
          img.style.filter = 'alpha(opacity:' + ieopacity + ')';
        } else if (img.style.opacity) {
          img.style.opacity = opacity;
        } else if (0 < opacity) {
          alert('不透明度はサポートされていません');
        }
      }
      // ]]
    </script>
  </head>
  <body>
    <img
      id="img1"
      src="./image1.png"
      style="opacity: 1; filter: alpha(opacity=100)"
    />
  </body>
</lang:html>
